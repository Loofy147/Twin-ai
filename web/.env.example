# ============================================
# TWIN-AI ENVIRONMENT CONFIGURATION
# ============================================
# Copy this file to .env and fill in your values
# Never commit .env to version control
# Validate all variables are set before deployment

# ============================================
# CORE APPLICATION
# ============================================

# Application environment: development | staging | production
# Controls logging levels, error reporting, and feature flags
NODE_ENV=development

# Application version (semver)
# Auto-generated in CI/CD, manual for local development
VITE_APP_VERSION=0.1.0

# API base URL
# Development: http://localhost:3000
# Production: https://api.twin-ai.app
VITE_API_URL=http://localhost:3000

# ============================================
# SUPABASE CONFIGURATION
# ============================================
# REQUIRED: Application will not start without these

# Supabase Project URL
# Get from: https://app.supabase.com/project/_/settings/api
# Format: https://<project-ref>.supabase.co
VITE_SUPABASE_URL=https://your-project.supabase.co

# Supabase Anonymous Key (public, safe for client)
# Get from: https://app.supabase.com/project/_/settings/api
# This key has RLS restrictions
VITE_SUPABASE_ANON_KEY=your_supabase_anon_key_here

# Supabase Service Role Key (DANGEROUS - server-side only)
# Get from: https://app.supabase.com/project/_/settings/api
# NEVER expose this in client code or commit to git
# Only use in backend/admin scripts
SUPABASE_SERVICE_ROLE_KEY=your_service_role_key_here

# ============================================
# GOOGLE OAUTH (Production)
# ============================================
# For Google Calendar and Drive integrations
# Setup: https://console.cloud.google.com/apis/credentials

# Google OAuth Client ID
# Required for: Google Calendar, Google Drive integrations
VITE_GOOGLE_CLIENT_ID=your_google_client_id.apps.googleusercontent.com

# Google OAuth Client Secret
# Required for: Token exchange in OAuth flow
# SECURITY: Keep secret, rotate regularly
GOOGLE_CLIENT_SECRET=your_google_client_secret

# Google OAuth Redirect URI
# Must match exactly what's configured in Google Console
# Development: http://localhost:5173/auth/google/callback
# Production: https://twin-ai.app/auth/google/callback
VITE_GOOGLE_REDIRECT_URI=http://localhost:5173/auth/google/callback

# ============================================
# GOOGLE OAUTH (Development/Testing)
# ============================================
# Separate credentials for local development
# Prevents accidental production data access

VITE_GOOGLE_CLIENT_ID_DEV=your_dev_client_id.apps.googleusercontent.com
VITE_GOOGLE_CLIENT_SECRET_DEV=your_dev_client_secret

# ============================================
# LOGGING & OBSERVABILITY
# ============================================

# Log level: debug | info | warn | error
# Development: debug
# Production: info or warn
VITE_LOG_LEVEL=debug

# External logging service endpoint (optional)
# Examples: Logtail, Datadog, New Relic
# Leave empty to disable remote logging
VITE_LOGGING_ENDPOINT=https://logs.example.com/api/v1/logs

# Logging service API key
# Required if VITE_LOGGING_ENDPOINT is set
VITE_LOGGING_API_KEY=your_logging_api_key

# ============================================
# ERROR TRACKING (Sentry)
# ============================================

# Sentry DSN for error tracking
# Get from: https://sentry.io/settings/projects/
# Leave empty to disable Sentry
VITE_SENTRY_DSN=https://examplePublicKey@o0.ingest.sentry.io/0

# Sentry environment tag
# Should match NODE_ENV
VITE_SENTRY_ENVIRONMENT=development

# Sentry error sample rate (0.0 to 1.0)
# Production: 0.1 to 0.5 (sample 10-50%)
# Development: 1.0 (capture all)
VITE_SENTRY_SAMPLE_RATE=1.0

# Sentry traces sample rate (0.0 to 1.0)
# Controls performance monitoring sampling
# Production: 0.05 to 0.1 (5-10%)
VITE_SENTRY_TRACES_SAMPLE_RATE=0.1

# ============================================
# ANALYTICS
# ============================================

# PostHog API Key (optional)
# Product analytics and feature flags
# Get from: https://app.posthog.com/project/settings
VITE_POSTHOG_KEY=phc_your_posthog_key

# PostHog Host (self-hosted or cloud)
# Cloud: https://app.posthog.com
# Self-hosted: your PostHog instance URL
VITE_POSTHOG_HOST=https://app.posthog.com

# Mixpanel Token (optional)
# Alternative to PostHog
VITE_MIXPANEL_TOKEN=your_mixpanel_token

# ============================================
# FEATURE FLAGS
# ============================================

# Enable RL (Reinforcement Learning) training
# true | false
# Production: false (beta feature)
VITE_ENABLE_RL_TRAINING=false

# Enable Google integrations
# true | false
# Requires Google OAuth credentials
VITE_ENABLE_GOOGLE_INTEGRATIONS=true

# Enable pattern detection
# true | false
# Disable to reduce compute in development
VITE_ENABLE_PATTERN_DETECTION=true

# Enable debug mode
# Shows additional UI elements for debugging
# Production: false
VITE_ENABLE_DEBUG_MODE=true

# ============================================
# RATE LIMITING
# ============================================

# Maximum questions per day per user
# Prevents survey fatigue
# Recommended: 15-25
VITE_MAX_QUESTIONS_PER_DAY=20

# Maximum questions per hour
# Anti-abuse measure
VITE_RATE_LIMIT_QUESTIONS=100

# Maximum API calls per minute
# Prevents DoS and abuse
VITE_RATE_LIMIT_API=60

# ============================================
# SECURITY
# ============================================

# Session timeout (minutes)
# User must re-authenticate after this period
VITE_SESSION_TIMEOUT=1440

# Password minimum length
# NIST recommends 8+ characters
VITE_PASSWORD_MIN_LENGTH=8

# Enable two-factor authentication
# true | false
VITE_ENABLE_2FA=false

# CORS allowed origins (comma-separated)
# Development: http://localhost:3000,http://localhost:5173
# Production: https://twin-ai.app
VITE_CORS_ORIGINS=http://localhost:3000,http://localhost:5173

# ============================================
# PERFORMANCE
# ============================================

# Enable service worker (PWA)
# Production: true
# Development: false (avoid caching issues)
VITE_ENABLE_SERVICE_WORKER=false

# API request timeout (milliseconds)
VITE_API_TIMEOUT=30000

# Database connection pool size
# Higher for production, lower for development
VITE_DB_POOL_SIZE=10

# ============================================
# DEVELOPMENT TOOLS
# ============================================

# Enable React Query Devtools
# Production: false
VITE_ENABLE_REACT_QUERY_DEVTOOLS=true

# Enable Redux Devtools
# Production: false
VITE_ENABLE_REDUX_DEVTOOLS=true

# Mock data mode
# Uses mock data instead of real APIs
# Useful for frontend development
VITE_MOCK_DATA_MODE=false

# ============================================
# STRIPE (Future Payment Integration)
# ============================================

# Stripe Publishable Key
# Get from: https://dashboard.stripe.com/apikeys
# STRIPE_PUBLISHABLE_KEY=pk_test_your_key

# Stripe Secret Key (server-side only)
# NEVER expose in client code
# STRIPE_SECRET_KEY=sk_test_your_key

# ============================================
# EMAIL (Future Notification System)
# ============================================

# SendGrid API Key
# SENDGRID_API_KEY=your_sendgrid_api_key

# Email from address
# EMAIL_FROM=noreply@twin-ai.app

# ============================================
# DEPLOYMENT
# ============================================

# Deployment platform: vercel | netlify | cloudflare | docker
VITE_DEPLOYMENT_PLATFORM=vercel

# Git commit SHA (auto-populated in CI/CD)
# VITE_GIT_COMMIT_SHA=abc123def456

# Build timestamp (auto-populated in CI/CD)
# VITE_BUILD_TIMESTAMP=2024-01-18T12:00:00Z

# ============================================
# VERIFICATION CHECKLIST
# ============================================
# Before deploying to production, verify:
# [ ] All REQUIRED variables are set
# [ ] No placeholder values remain
# [ ] Secrets are rotated from defaults
# [ ] VITE_SUPABASE_SERVICE_ROLE_KEY is NOT in client bundle
# [ ] CORS_ORIGINS matches deployment domain
# [ ] LOG_LEVEL is set to 'info' or 'warn'
# [ ] Rate limits are production-appropriate
# [ ] Sentry DSN is configured
# [ ] .env is in .gitignore

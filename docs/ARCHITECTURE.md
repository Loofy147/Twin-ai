# Twin-AI Architecture: The Living Thought Structure

## System Overview

Twin-AI is a multi-dimensional digital twin system governed by the **Meta-Identity Framework**. It is not a static application but a living thought structure that evolves through the collaboration of seven specialized engineering personas.

The system's core purpose is to synthesize a faithful digital reflection of the user by harmonizing performance, value, architecture, experience, security, strategy, and data integrity.

## The Meta-Identity Framework (Council of Identities)

The architecture is driven by the perspectives of the **Council of Identities**:

1.  **Bolt ‚ö° (Performance)**: Optimizes high-frequency RL loops and fluid UI transitions.
2.  **Midas üí∞ (Value)**: Quantifies the "Impact Score" of patterns and insights.
3.  **Oracle üîÆ (Evolution)**: Predicts and maps the long-term growth of the twin's architecture.
4.  **Palette üé® (Experience)**: Translates abstract alignment into accessible visual language (Value Graphic).
5.  **Sentinel üõ°Ô∏è (Security)**: Enforces privacy-first multi-tenant isolation and RLS.
6.  **Sun Tzu üéØ (Strategy)**: Directs the Adaptive Selection and Holistic Alignment logic.
7.  **Tuber üîß (Bedrock)**: Maintains the integrity of the multi-database schema (SQLite/PostgreSQL).

## The Overall Logic: Value Alignment Engine

The heart of the system is the **Value Alignment Engine**, which calculates a holistic "Alignment Score" by synthesizing:
*   **Breadth**: Multi-dimensional dimension coverage.
*   **Depth**: High-impact pattern detection with confidence weighting.
*   **Connectedness**: Synergy detection between dimensions.
*   **Stability**: Temporal consistency of the learned profile.

## Data Flow & Evolution

1.  **Memory Formation (Ingestion)**: Tuber and Sentinel securely sync real-world data (Contacts, Calendar, Drive) into isolated `entities`.
2.  **Inquiry (Adaptive Selection)**: Sun-Tzu and Oracle select strategic questions to explore the user's value dimensions.
3.  **Pattern Synthesis (Detection)**: Midas and Tuber analyze responses to detect high-impact `patterns` and cross-dimension `synergies`.
4.  **Twin Training (RL System)**: Bolt and Oracle use these patterns to train a Reinforcement Learning agent in a profile-isolated simulation.
5.  **Visual Reflection (Frontend)**: Palette and Bolt render the twin's state through the Knowledge Graphic and Analytics Dashboard.

## Component Stack

*   **Mobile App (React Native)**: High-performance local integration and SQLite bedrock.
*   **Web App (React)**: Resilient, memoized dashboard with unified RPC analytics.
*   **Supabase Backend**: Hardened PostgreSQL with RLS, audit triggers, and Edge Functions.
*   **RL Simulation (Python/Gym)**: Optimized, O(1) reward-caching environment for twin training.
*   **Shared Core**: Holistic engine containing the Pattern Detector, Synergy Logic, and Value Alignment Engine.
